// D&D 5e SRD Spells
export interface Spell {
  id: string;
  name: string;
  level: number; // 0 = cantrip
  school: 'abjuration' | 'conjuration' | 'divination' | 'enchantment' | 'evocation' | 'illusion' | 'necromancy' | 'transmutation';
  castingTime: string;
  range: string;
  components: {
    verbal: boolean;
    somatic: boolean;
    material: boolean;
    materialDesc?: string;
  };
  duration: string;
  concentration: boolean;
  description: string;
  classes: string[];
}

export const SPELLS: Spell[] = [
  // CANTRIPS (Level 0)
  {
    id: 'acid-splash',
    name: 'Acid Splash',
    level: 0,
    school: 'conjuration',
    castingTime: '1 action',
    range: '60 feet',
    components: { verbal: true, somatic: true, material: false },
    duration: 'Instantaneous',
    concentration: false,
    description: 'You hurl a bubble of acid. Choose one or two creatures within range. A target must succeed on a Dexterity saving throw or take 1d6 acid damage.',
    classes: ['sorcerer', 'wizard'],
  },
  {
    id: 'blade-ward',
    name: 'Blade Ward',
    level: 0,
    school: 'abjuration',
    castingTime: '1 action',
    range: 'Self',
    components: { verbal: true, somatic: true, material: false },
    duration: '1 round',
    concentration: false,
    description: 'You gain resistance to bludgeoning, piercing, and slashing damage from weapon attacks.',
    classes: ['bard', 'sorcerer', 'warlock', 'wizard'],
  },
  {
    id: 'dancing-lights',
    name: 'Dancing Lights',
    level: 0,
    school: 'evocation',
    castingTime: '1 action',
    range: '120 feet',
    components: { verbal: true, somatic: true, material: true, materialDesc: 'a bit of phosphorus or wychwood, or a glowworm' },
    duration: 'Concentration, up to 1 minute',
    concentration: true,
    description: 'You create up to four torch-sized lights that hover in the air for the duration.',
    classes: ['bard', 'sorcerer', 'wizard'],
  },
  {
    id: 'druidcraft',
    name: 'Druidcraft',
    level: 0,
    school: 'transmutation',
    castingTime: '1 action',
    range: '30 feet',
    components: { verbal: true, somatic: true, material: false },
    duration: 'Instantaneous',
    concentration: false,
    description: 'You create a tiny, harmless sensory effect that predicts the weather, or make a flower blossom, or create other minor nature effects.',
    classes: ['druid'],
  },
  {
    id: 'eldritch-blast',
    name: 'Eldritch Blast',
    level: 0,
    school: 'evocation',
    castingTime: '1 action',
    range: '120 feet',
    components: { verbal: true, somatic: true, material: false },
    duration: 'Instantaneous',
    concentration: false,
    description: 'A beam of crackling energy streaks toward a creature. Make a ranged spell attack. On hit, the target takes 1d10 force damage.',
    classes: ['warlock'],
  },
  {
    id: 'fire-bolt',
    name: 'Fire Bolt',
    level: 0,
    school: 'evocation',
    castingTime: '1 action',
    range: '120 feet',
    components: { verbal: true, somatic: true, material: false },
    duration: 'Instantaneous',
    concentration: false,
    description: 'You hurl a mote of fire at a creature or object. Make a ranged spell attack. On hit, the target takes 1d10 fire damage.',
    classes: ['sorcerer', 'wizard'],
  },
  {
    id: 'guidance',
    name: 'Guidance',
    level: 0,
    school: 'divination',
    castingTime: '1 action',
    range: 'Touch',
    components: { verbal: true, somatic: true, material: false },
    duration: 'Concentration, up to 1 minute',
    concentration: true,
    description: 'You touch one willing creature. Once before the spell ends, the target can roll a d4 and add the number to one ability check.',
    classes: ['cleric', 'druid'],
  },
  {
    id: 'light',
    name: 'Light',
    level: 0,
    school: 'evocation',
    castingTime: '1 action',
    range: 'Touch',
    components: { verbal: true, somatic: false, material: true, materialDesc: 'a firefly or phosphorescent moss' },
    duration: '1 hour',
    concentration: false,
    description: 'You touch one object no larger than 10 feet in any dimension. The object sheds bright light in a 20-foot radius.',
    classes: ['bard', 'cleric', 'sorcerer', 'wizard'],
  },
  {
    id: 'mage-hand',
    name: 'Mage Hand',
    level: 0,
    school: 'conjuration',
    castingTime: '1 action',
    range: '30 feet',
    components: { verbal: true, somatic: true, material: false },
    duration: '1 minute',
    concentration: false,
    description: 'A spectral, floating hand appears at a point you choose within range. The hand can manipulate an object or perform simple tasks.',
    classes: ['bard', 'sorcerer', 'warlock', 'wizard'],
  },
  {
    id: 'minor-illusion',
    name: 'Minor Illusion',
    level: 0,
    school: 'illusion',
    castingTime: '1 action',
    range: '30 feet',
    components: { verbal: false, somatic: true, material: true, materialDesc: 'a bit of fleece' },
    duration: '1 minute',
    concentration: false,
    description: 'You create a sound or an image of an object within range that lasts for the duration.',
    classes: ['bard', 'sorcerer', 'warlock', 'wizard'],
  },
  {
    id: 'poison-spray',
    name: 'Poison Spray',
    level: 0,
    school: 'conjuration',
    castingTime: '1 action',
    range: '10 feet',
    components: { verbal: true, somatic: true, material: false },
    duration: 'Instantaneous',
    concentration: false,
    description: 'You extend your hand toward a creature and project a puff of noxious gas. The creature must succeed on a Constitution saving throw or take 1d12 poison damage.',
    classes: ['druid', 'sorcerer', 'warlock', 'wizard'],
  },
  {
    id: 'prestidigitation',
    name: 'Prestidigitation',
    level: 0,
    school: 'transmutation',
    castingTime: '1 action',
    range: '10 feet',
    components: { verbal: true, somatic: true, material: false },
    duration: 'Up to 1 hour',
    concentration: false,
    description: 'This spell is a minor magical trick that novice spellcasters use for practice. You create various minor magical effects.',
    classes: ['bard', 'sorcerer', 'warlock', 'wizard'],
  },
  {
    id: 'produce-flame',
    name: 'Produce Flame',
    level: 0,
    school: 'conjuration',
    castingTime: '1 action',
    range: 'Self',
    components: { verbal: true, somatic: true, material: false },
    duration: '10 minutes',
    concentration: false,
    description: 'A flickering flame appears in your hand. The flame sheds bright light in a 10-foot radius. You can hurl the flame at a creature within 30 feet.',
    classes: ['druid'],
  },
  {
    id: 'ray-of-frost',
    name: 'Ray of Frost',
    level: 0,
    school: 'evocation',
    castingTime: '1 action',
    range: '60 feet',
    components: { verbal: true, somatic: true, material: false },
    duration: 'Instantaneous',
    concentration: false,
    description: 'A frigid beam of blue-white light streaks toward a creature. Make a ranged spell attack. On hit, it takes 1d8 cold damage and its speed is reduced by 10 feet.',
    classes: ['sorcerer', 'wizard'],
  },
  {
    id: 'resistance',
    name: 'Resistance',
    level: 0,
    school: 'abjuration',
    castingTime: '1 action',
    range: 'Touch',
    components: { verbal: true, somatic: true, material: true, materialDesc: 'a miniature cloak' },
    duration: 'Concentration, up to 1 minute',
    concentration: true,
    description: 'You touch one willing creature. Once before the spell ends, the target can roll a d4 and add it to one saving throw.',
    classes: ['cleric', 'druid'],
  },
  {
    id: 'sacred-flame',
    name: 'Sacred Flame',
    level: 0,
    school: 'evocation',
    castingTime: '1 action',
    range: '60 feet',
    components: { verbal: true, somatic: true, material: false },
    duration: 'Instantaneous',
    concentration: false,
    description: 'Flame-like radiance descends on a creature. The target must succeed on a Dexterity saving throw or take 1d8 radiant damage. This spell ignores cover.',
    classes: ['cleric'],
  },
  {
    id: 'shillelagh',
    name: 'Shillelagh',
    level: 0,
    school: 'transmutation',
    castingTime: '1 bonus action',
    range: 'Touch',
    components: { verbal: true, somatic: true, material: true, materialDesc: 'mistletoe, a shamrock leaf, and a club or quarterstaff' },
    duration: '1 minute',
    concentration: false,
    description: 'The wood of a club or quarterstaff you hold is imbued with nature\'s power. For the duration, you can use your spellcasting ability for attack and damage rolls.',
    classes: ['druid'],
  },
  {
    id: 'spare-the-dying',
    name: 'Spare the Dying',
    level: 0,
    school: 'necromancy',
    castingTime: '1 action',
    range: 'Touch',
    components: { verbal: true, somatic: true, material: false },
    duration: 'Instantaneous',
    concentration: false,
    description: 'You touch a living creature that has 0 hit points. The creature becomes stable.',
    classes: ['cleric'],
  },
  {
    id: 'thaumaturgy',
    name: 'Thaumaturgy',
    level: 0,
    school: 'transmutation',
    castingTime: '1 action',
    range: '30 feet',
    components: { verbal: true, somatic: false, material: false },
    duration: 'Up to 1 minute',
    concentration: false,
    description: 'You manifest a minor wonder, a sign of supernatural power. You can cause your voice to boom, make flames flicker, or create other minor effects.',
    classes: ['cleric'],
  },
  {
    id: 'true-strike',
    name: 'True Strike',
    level: 0,
    school: 'divination',
    castingTime: '1 action',
    range: '30 feet',
    components: { verbal: false, somatic: true, material: false },
    duration: 'Concentration, up to 1 round',
    concentration: true,
    description: 'You gain insight into the target\'s defenses. On your next turn, you gain advantage on your first attack roll against the target.',
    classes: ['bard', 'sorcerer', 'warlock', 'wizard'],
  },
  {
    id: 'vicious-mockery',
    name: 'Vicious Mockery',
    level: 0,
    school: 'enchantment',
    castingTime: '1 action',
    range: '60 feet',
    components: { verbal: true, somatic: false, material: false },
    duration: 'Instantaneous',
    concentration: false,
    description: 'You unleash a string of insults at a creature. If it fails a Wisdom save, it takes 1d4 psychic damage and has disadvantage on its next attack roll.',
    classes: ['bard'],
  },

  // 1ST LEVEL SPELLS
  {
    id: 'bless',
    name: 'Bless',
    level: 1,
    school: 'enchantment',
    castingTime: '1 action',
    range: '30 feet',
    components: { verbal: true, somatic: true, material: true, materialDesc: 'a sprinkling of holy water' },
    duration: 'Concentration, up to 1 minute',
    concentration: true,
    description: 'You bless up to three creatures. Whenever a target makes an attack roll or saving throw, they can roll a d4 and add it to the result.',
    classes: ['cleric', 'paladin'],
  },
  {
    id: 'burning-hands',
    name: 'Burning Hands',
    level: 1,
    school: 'evocation',
    castingTime: '1 action',
    range: 'Self (15-foot cone)',
    components: { verbal: true, somatic: true, material: false },
    duration: 'Instantaneous',
    concentration: false,
    description: 'Flames shoot from your fingertips. Each creature in a 15-foot cone must make a Dexterity saving throw, taking 3d6 fire damage on a failed save.',
    classes: ['sorcerer', 'wizard'],
  },
  {
    id: 'charm-person',
    name: 'Charm Person',
    level: 1,
    school: 'enchantment',
    castingTime: '1 action',
    range: '30 feet',
    components: { verbal: true, somatic: true, material: false },
    duration: '1 hour',
    concentration: false,
    description: 'You attempt to charm a humanoid. It must make a Wisdom saving throw. If it fails, it is charmed by you until the spell ends.',
    classes: ['bard', 'druid', 'sorcerer', 'warlock', 'wizard'],
  },
  {
    id: 'cure-wounds',
    name: 'Cure Wounds',
    level: 1,
    school: 'evocation',
    castingTime: '1 action',
    range: 'Touch',
    components: { verbal: true, somatic: true, material: false },
    duration: 'Instantaneous',
    concentration: false,
    description: 'A creature you touch regains hit points equal to 1d8 + your spellcasting ability modifier.',
    classes: ['bard', 'cleric', 'druid', 'paladin', 'ranger'],
  },
  {
    id: 'detect-magic',
    name: 'Detect Magic',
    level: 1,
    school: 'divination',
    castingTime: '1 action',
    range: 'Self',
    components: { verbal: true, somatic: true, material: false },
    duration: 'Concentration, up to 10 minutes',
    concentration: true,
    description: 'For the duration, you sense the presence of magic within 30 feet. You can see a faint aura around any visible creature or object bearing magic.',
    classes: ['bard', 'cleric', 'druid', 'paladin', 'ranger', 'sorcerer', 'wizard'],
  },
  {
    id: 'disguise-self',
    name: 'Disguise Self',
    level: 1,
    school: 'illusion',
    castingTime: '1 action',
    range: 'Self',
    components: { verbal: true, somatic: true, material: false },
    duration: '1 hour',
    concentration: false,
    description: 'You make yourself look different for the duration. You can seem taller or shorter, thin or fat, but your basic body shape stays the same.',
    classes: ['bard', 'sorcerer', 'wizard'],
  },
  {
    id: 'faerie-fire',
    name: 'Faerie Fire',
    level: 1,
    school: 'evocation',
    castingTime: '1 action',
    range: '60 feet',
    components: { verbal: true, somatic: false, material: false },
    duration: 'Concentration, up to 1 minute',
    concentration: true,
    description: 'Objects and creatures in a 20-foot cube are outlined in light. Affected creatures can\'t benefit from being invisible and attacks against them have advantage.',
    classes: ['bard', 'druid'],
  },
  {
    id: 'guiding-bolt',
    name: 'Guiding Bolt',
    level: 1,
    school: 'evocation',
    castingTime: '1 action',
    range: '120 feet',
    components: { verbal: true, somatic: true, material: false },
    duration: '1 round',
    concentration: false,
    description: 'A flash of light streaks toward a creature. Make a ranged spell attack. On a hit, the target takes 4d6 radiant damage, and the next attack against it has advantage.',
    classes: ['cleric'],
  },
  {
    id: 'healing-word',
    name: 'Healing Word',
    level: 1,
    school: 'evocation',
    castingTime: '1 bonus action',
    range: '60 feet',
    components: { verbal: true, somatic: false, material: false },
    duration: 'Instantaneous',
    concentration: false,
    description: 'A creature of your choice that you can see regains hit points equal to 1d4 + your spellcasting ability modifier.',
    classes: ['bard', 'cleric', 'druid'],
  },
  {
    id: 'hex',
    name: 'Hex',
    level: 1,
    school: 'enchantment',
    castingTime: '1 bonus action',
    range: '90 feet',
    components: { verbal: true, somatic: true, material: true, materialDesc: 'the petrified eye of a newt' },
    duration: 'Concentration, up to 1 hour',
    concentration: true,
    description: 'You curse a creature. Until the spell ends, you deal an extra 1d6 necrotic damage to the target whenever you hit it with an attack.',
    classes: ['warlock'],
  },
  {
    id: 'hunters-mark',
    name: "Hunter's Mark",
    level: 1,
    school: 'divination',
    castingTime: '1 bonus action',
    range: '90 feet',
    components: { verbal: true, somatic: false, material: false },
    duration: 'Concentration, up to 1 hour',
    concentration: true,
    description: 'You choose a creature you can see and mystically mark it as your quarry. You deal an extra 1d6 damage to the target whenever you hit it with a weapon attack.',
    classes: ['ranger'],
  },
  {
    id: 'mage-armor',
    name: 'Mage Armor',
    level: 1,
    school: 'abjuration',
    castingTime: '1 action',
    range: 'Touch',
    components: { verbal: true, somatic: true, material: true, materialDesc: 'a piece of cured leather' },
    duration: '8 hours',
    concentration: false,
    description: 'You touch a willing creature who isn\'t wearing armor. The target\'s base AC becomes 13 + its Dexterity modifier.',
    classes: ['sorcerer', 'wizard'],
  },
  {
    id: 'magic-missile',
    name: 'Magic Missile',
    level: 1,
    school: 'evocation',
    castingTime: '1 action',
    range: '120 feet',
    components: { verbal: true, somatic: true, material: false },
    duration: 'Instantaneous',
    concentration: false,
    description: 'You create three glowing darts of magical force. Each dart hits a creature you choose, dealing 1d4 + 1 force damage. The darts always hit.',
    classes: ['sorcerer', 'wizard'],
  },
  {
    id: 'shield',
    name: 'Shield',
    level: 1,
    school: 'abjuration',
    castingTime: '1 reaction',
    range: 'Self',
    components: { verbal: true, somatic: true, material: false },
    duration: '1 round',
    concentration: false,
    description: 'An invisible barrier of magical force protects you. Until the start of your next turn, you have a +5 bonus to AC.',
    classes: ['sorcerer', 'wizard'],
  },
  {
    id: 'shield-of-faith',
    name: 'Shield of Faith',
    level: 1,
    school: 'abjuration',
    castingTime: '1 bonus action',
    range: '60 feet',
    components: { verbal: true, somatic: true, material: true, materialDesc: 'a small parchment with holy text' },
    duration: 'Concentration, up to 10 minutes',
    concentration: true,
    description: 'A shimmering field appears around a creature, granting it a +2 bonus to AC for the duration.',
    classes: ['cleric', 'paladin'],
  },
  {
    id: 'sleep',
    name: 'Sleep',
    level: 1,
    school: 'enchantment',
    castingTime: '1 action',
    range: '90 feet',
    components: { verbal: true, somatic: true, material: true, materialDesc: 'a pinch of fine sand, rose petals, or a cricket' },
    duration: '1 minute',
    concentration: false,
    description: 'This spell sends creatures into a magical slumber. Roll 5d8; the total is how many hit points of creatures this spell can affect.',
    classes: ['bard', 'sorcerer', 'wizard'],
  },
  {
    id: 'thunderwave',
    name: 'Thunderwave',
    level: 1,
    school: 'evocation',
    castingTime: '1 action',
    range: 'Self (15-foot cube)',
    components: { verbal: true, somatic: true, material: false },
    duration: 'Instantaneous',
    concentration: false,
    description: 'A wave of thunderous force sweeps out from you. Each creature in a 15-foot cube takes 2d8 thunder damage and is pushed 10 feet away on a failed Constitution save.',
    classes: ['bard', 'druid', 'sorcerer', 'wizard'],
  },
];

// Get spells available to a specific class
export function getSpellsForClass(classId: string): Spell[] {
  return SPELLS.filter(spell => spell.classes.includes(classId.toLowerCase()));
}

// Get spells by level
export function getSpellsByLevel(spells: Spell[], level: number): Spell[] {
  return spells.filter(spell => spell.level === level);
}

// Get cantrips (level 0 spells)
export function getCantrips(spells: Spell[]): Spell[] {
  return getSpellsByLevel(spells, 0);
}

// Get 1st level spells
export function getFirstLevelSpells(spells: Spell[]): Spell[] {
  return getSpellsByLevel(spells, 1);
}

// Get spell by ID
export function getSpellById(id: string): Spell | undefined {
  return SPELLS.find(spell => spell.id === id);
}

// School colors for UI
export const SCHOOL_COLORS: Record<string, string> = {
  abjuration: '#3B82F6', // Blue
  conjuration: '#8B5CF6', // Purple
  divination: '#06B6D4', // Cyan
  enchantment: '#EC4899', // Pink
  evocation: '#EF4444', // Red
  illusion: '#A855F7', // Violet
  necromancy: '#6B7280', // Gray
  transmutation: '#F59E0B', // Amber
};

// School icons for UI
export const SCHOOL_ICONS: Record<string, string> = {
  abjuration: 'ğŸ›¡ï¸',
  conjuration: 'âœ¨',
  divination: 'ğŸ‘ï¸',
  enchantment: 'ğŸ’«',
  evocation: 'ğŸ”¥',
  illusion: 'ğŸŒ€',
  necromancy: 'ğŸ’€',
  transmutation: 'ğŸ”„',
};
